(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{26:function(e,t,n){e.exports=n(41)},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(21),i=n.n(r),c=n(16),s=n(11),l=n.n(s),u=n(12),d=n(5),m=n(4),p=n(2),g=n(3),h=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.canvas,n=t.getContext("2d"),a=this.refs.image;a.onload=function(){t.width=document.getElementById("imagem").width,t.height=document.getElementById("imagem").height,n.drawImage(a,0,0),n.font="20px Calibri",n.fillStyle="white";var o=600;n.fillText(e.props.dados.pagina.nome_pagina,30,o),o+=25,n.fillText(e.props.dados.pagina.endereco,30,o),o+=25,e.props.dados.contatos.forEach((function(e){n.fillText("".concat(e.nome_contato?e.nome_contato:""," ").concat(e.telefone?e.telefone:""," ").concat(e.email?e.email:""),30,o),o+=25})),e.props.dados.concessionaria_pagina&&n.fillText("n\xe3o tem"===e.props.dados.concessionaria_pagina.info?"":e.props.dados.concessionaria_pagina.info,30,o)}}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("canvas",{id:"tela",ref:"canvas"}),o.a.createElement("img",{alt:"img",id:"imagem",ref:"image",src:"".concat("","imagem/BAHMCAPA.jpeg"),style:{display:"none"}}))}}]),n}(a.Component),f=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return o.a.createElement("iframe",{src:this.props.dados,title:"iframe"})}}]),n}(a.Component),E=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(g.a)(n,[{key:"render",value:function(){return o.a.createElement("img",{frameBorder:"0",marginHeight:"0",marginWidth:"0",src:this.props.dados,alt:"img"})}}]),n}(a.Component),y=(n(32),n(33),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).topFunction=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("myBtn");window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="block":e.style.display="none"}}},{key:"render",value:function(){return o.a.createElement("button",{onClick:this.topFunction,id:"myBtn",title:"Clique para o topo p\xe1gina"},"Topo")}}]),n}(a.Component)),b=function(){function e(t){Object(p.a)(this,e),this.pagina=null,this.concessionaria_pagina=null,this.sites=null,this.contatos=null,this.obj=null;var n=t.dados,a=n.nome_pagina,o=n.endereco,r=n.info,i=n.sites,c=n.contatos;this.contatos=c,this.pagina={nome_pagina:a,endereco:o,info:r},this.concessionaria_pagina={info:r};for(var s={},l=0;l<i.length;l++)s[i[l].tipo]||(s[i[l].tipo]=[]),s[i[l].tipo].push(i[l].link);this.obj=s}return Object(g.a)(e,[{key:"get_infos",value:function(){return{pagina:this.pagina,concessionaria_pagina:this.concessionaria_pagina,sites:this.sites,contatos:this.contatos,obj:this.obj}}}]),e}(),v=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={pagina:!1,concessionaria_pagina:0,contatos:[],STREET:[],foto:[],WIKIMAPIA_SAT:[],WIKIMAPIA_FRIO:[],pm:[],site:[],abcr:[],concessionaria:[],FOTO_MAPA:[],WIKIPEDIA:[],LEI:[]},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=Object(u.a)(l.a.mark((function e(){var t,n,a,o,r,i,c,s,u,d,m,p,g,h,f,E,y,v,I,P,C;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("Pagina").style.display="none",document.getElementById("loader").style.display="block",document.body.style.height="0px",t=this.props.id_pagina,e.next=6,t;case 6:return n=e.sent,e.next=10,l=n,fetch("".concat("https://api-bahm-new.herokuapp.com","/GetPaginas"),{method:"post",body:JSON.stringify(l),headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(e){return e.json()}));case 10:if(void 0!==(a=e.sent)){e.next=13;break}return e.abrupt("return");case 13:if(o=a.dados.nome_pagina,e.prev=14,o){e.next=17;break}return e.abrupt("return");case 17:r=new b(a),i=r.get_infos(),c=i.pagina,s=i.concessionaria_pagina,u=i.contatos,d=i.obj,document.title="BAHM - ".concat(c.nome_pagina),void 0!==u&&this.setState({contatos:u}),m=d.STREET,p=d.LEI,g=d.FOTO_MAPA,h=d.FOTO,f=d.WIKIMAPIA_FRIO,E=d.WIKIMAPIA_SAT,y=d.WIKIPEDIA,v=d.PM,I=d.SITE,P=d.ABCR,C=d.CONCESSIONARIA,this.setState({pagina:c,concessionaria_pagina:s,STREET:m||[],LEI:p||[],FOTO_MAPA:g||[],WIKIMAPIA_FRIO:f||[],WIKIMAPIA_SAT:E||[],WIKIPEDIA:y||[],concessionaria:C||[],pm:v||[],site:I||[],abcr:P||[],foto:h||[]}),document.getElementById("loader").style.display="none",document.body.style.height="100%",document.getElementById("Pagina").style.display="block",e.next=31;break;case 28:e.prev=28,e.t0=e.catch(14),alert("Pagina n\xe3o encontrada");case 31:case"end":return e.stop()}var l}),e,this,[[14,28]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"Pagina",style:{display:"block"}},o.a.createElement("button",{onClick:function(){e.setState({pagina:!1,concessionaria_pagina:0,contatos:[],STREET:[],foto:[],WIKIMAPIA_SAT:[],WIKIMAPIA_FRIO:[],pm:[],site:[],abcr:[],concessionaria:[],FOTO_MAPA:[],WIKIPEDIA:[],LEI:[]}),e.props.trocaTela(void 0)},style:{position:"absolute",marginTop:40,marginLeft:100,backgroundColor:"white",padding:18,fontWeight:"bold",borderRadius:10}},o.a.createElement("svg",{style:{marginRight:10},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-arrow-left-circle-fill",viewBox:"0 0 16 16"},o.a.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})),"VOLTAR"),o.a.createElement("div",{id:"principal"},this.state.pagina&&o.a.createElement(h,{dados:this.state}),[this.state.STREET,this.state.foto,this.state.WIKIMAPIA_SAT,this.state.WIKIMAPIA_FRIO,this.state.pm,this.state.site,this.state.abcr,this.state.concessionaria,this.state.FOTO_MAPA,this.state.LEI,this.state.WIKIPEDIA].map((function(e,t){return e.map((function(e){return 1===t&&-1===e.indexOf("http")||8===t&&-1===e.indexOf("http")?o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(E,{key:e,dados:"".concat("https://imagens-bahm2.herokuapp.com/imagens/").concat(e)})):8===t?o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(E,{key:e,dados:e})):o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(f,{key:e,dados:e}))}))}))),o.a.createElement(y,null)))}}]),n}(a.Component),I=n(22),P=n.n(I),C=n(10),w=(n(34),n(35),function(e,t){return fetch("".concat("https://api-bahm-new.herokuapp.com","/Ponto/GetPontos"),{method:"post",body:JSON.stringify(e),headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(e){if(200===e.status)return e.json();401===e.status&&t.push("/Login")}))}),k=function(){function e(t){Object(p.a)(this,e),this.lista=null;var n={};t.forEach((function(e){n[e]=function(e){if(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(window.location.search))return decodeURIComponent(e[1])}(e)})),this.lista=n}return Object(g.a)(e,[{key:"get_list",value:function(){return this.lista}}]),e}(),O=[],j=function(e){var t=e.trocaTela,n=sessionStorage.getItem("typeUser");return document.title="BAHM - MAPA",window.addEventListener("resize",(function(){var e=document.getElementById("map");e&&(e.style.height=window.innerHeight+"px")})),localStorage.getItem("lat")&&localStorage.getItem("long")&&localStorage.getItem("zoom")||(localStorage.setItem("lat","-21"),localStorage.setItem("long","-50"),localStorage.setItem("zoom","9")),P()({key:"AIzaSyBZkRztzytJboga-ppS__Lb8YbettZs8Rk"}).then(function(e){var n,a,o,r;return function(i){var c,s,d,m,p=new k(["lat","long","zooml"]).get_list(),g=p.lat,h=p.long,f=p.zooml;f?(s=g,d=h,m=Number(f),window.location.search=""):(s=localStorage.getItem("lat"),d=localStorage.getItem("long"),m=Number(localStorage.getItem("zoom")));var E=document.getElementById("map"),y=new i.LatLng(parseFloat(s),parseFloat(d)),b=i.MapTypeId.HYBRID;function v(e,t,i){var c,s,l,u,d;return i.getZoom()>=e&&(c=Math.round(i.getCenter().lat()-t),s=Math.ceil(i.getCenter().lat()+t),l=Math.round(i.getCenter().lng()-t),u=Math.ceil(i.getCenter().lng()+t),(d=n!==c||a!==s||o!==l||r!==u)&&(n=c,a=s,o=l,r=u)),d?{Latitude:i.getCenter().lat(),Longitude:i.getCenter().lng()}:null}function I(){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(l.a.mark((function n(){var a,o,r,s,u,d;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(localStorage.setItem("lat",c.getCenter().lat()),localStorage.setItem("long",c.getCenter().lng()),localStorage.setItem("zoom",c.getZoom()),document.getElementById("lat")&&(document.getElementById("lat").value=c.getCenter().lat().toFixed(6)),document.getElementById("long")&&(document.getElementById("long").value=c.getCenter().lng().toFixed(6)),document.getElementById("zoom")&&(document.getElementById("zoom").value=c.getZoom()),a="".concat(window.location,"?lat=").concat(c.getCenter().lat(),"&long=").concat(c.getCenter().lng(),"&zooml=").concat(c.getZoom()),document.getElementById("link")&&(document.getElementById("link").value=a),o=v(8,2,c)){n.next=11;break}return n.abrupt("return");case 11:return r=o.Latitude,s=o.Longitude,n.next=14,w({Latitude:r,Longitude:s,Zoom:8},e);case 14:if(u=n.sent){n.next=17;break}return n.abrupt("return");case 17:if(u.pontos){n.next=19;break}return n.abrupt("return");case 19:d=u.pontos;try{d.forEach((function(e){var n,a=e.latitude,o=e.longitude,r=e.link,s=new i.LatLng(parseFloat(a),parseFloat(o));n=-1===r.indexOf("http")?"".concat("https://imagens-bahm2.herokuapp.com/imagens/").concat(r):r;var l=new i.Marker({map:c,position:s,icon:n});O.push({b:l,c:l.position.lat(),d:l.position.lng()});var u=document.createElement("div"),d=document.createElement("text");d.innerHTML=e.nome_ponto,u.appendChild(d),"KM"!==e.tipo_icone&&(d.style.cursor="pointer"),d.addEventListener("click",(function(){"N\xc3O"!==e.tipo_icone&&"false"!==e.pagina&&t(e.pagina)}));var m=new i.InfoWindow;l.addListener("click",(function(){m.setContent(u),m.open(this.mapa,l)}))}))}catch(l){console.log("formato array incorreto")}case 21:case"end":return n.stop()}}),n)})))).apply(this,arguments)}c=new i.Map(E,{center:y,zoom:m,mapTypeId:b}),I(),c.addListener("zoom_changed",I),c.addListener("drag",I),document.getElementById("control")&&document.getElementById("control").addEventListener("click",(function(){I()}))}}(e.history)),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:"myNav",className:"overlay",style:{zIndex:12}},o.a.createElement("button",{className:"closebtn",onClick:function(){return document.getElementById("myNav").style.width="0%"}},"\xd7"),o.a.createElement("div",{className:"overlay-content"},"Aqui \xe9 dentro do menu")),o.a.createElement("span",{onClick:function(){return document.getElementById("myNav").style.width="100%"},style:{fontSize:30,cursor:"pointer",position:"absolute",zIndex:10,marginTop:80,marginLeft:10,backgroundColor:"white",display:"none"}},"\u2630 MENU"),o.a.createElement("input",{maxLength:"10",size:"8",className:"item",type:"text",id:"lat",placeholder:"latitude",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:130,marginLeft:10,backgroundColor:"white",padding:2}}),o.a.createElement("input",{maxLength:"10",size:"8",className:"item",type:"text",id:"long",placeholder:"longitude",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:180,marginLeft:10,backgroundColor:"white",padding:2}}),o.a.createElement("input",{maxLength:"2",size:"2",className:"item",type:"text",id:"zoom",placeholder:"zoom",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:230,marginLeft:10,backgroundColor:"white",padding:2}}),o.a.createElement("textarea",{className:"item",type:"text",id:"link",placeholder:"link",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:280,marginLeft:10,backgroundColor:"white",padding:2,display:"none"}}),o.a.createElement("button",{style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:280,marginLeft:10,backgroundColor:"white",padding:2},className:"item",id:"control"},"Ir para posi\xe7\xe3o"),o.a.createElement("button",{className:"copy",onClick:function(){var e=document.querySelector("button.copy"),t=document.querySelector("textarea");e.addEventListener("click",(function(e){e.preventDefault(),navigator.clipboard.writeText(t.value),alert(t.value)}))},style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:330,marginLeft:10,backgroundColor:"white",padding:2}},"Copia do link"),o.a.createElement(C.b,{to:"/Admin",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:380,marginLeft:10,backgroundColor:"white",padding:2,display:"ADMINISTRADOR"===n?"block":"none"}},o.a.createElement("button",{style:{backgroundColor:"gray",color:"white",padding:10,fontWeight:"bold"}},"ADMIN")),o.a.createElement("div",{id:"map",style:{height:window.innerHeight}}))},S=n(1),N=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://api-bahm-new.herokuapp.com","/Authenticate"),{method:"POST",headers:new Headers({"content-type":"application/json"}),body:n}).then((function(e){if(200===e.status)return e.json();401===e.status&&(document.getElementById("login_fail").style.display="block")})).then((function(e){if(e)return sessionStorage.setItem("typeUser",e.perfilUsuario),sessionStorage.setItem("loginStore",e.user),t.push("/"),e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function A(){return(A=Object(u.a)(l.a.mark((function e(t,n){var a,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=JSON.stringify({login:document.getElementById("login").value,senha:document.getElementById("senha").value}),e.next=3,N(t,a);case 3:void 0!==(o=e.sent)&&n.perfil(o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(e){var t=Object(S.e)(),n=Object(a.useRef)(null);return o.a.createElement("div",{className:"row",style:{backgroundColor:"white",height:window.innerHeight-17}},o.a.createElement("form",{onSubmit:function(n){n.preventDefault(),function(e,t){A.apply(this,arguments)}(t,e)}},o.a.createElement("div",{className:"col-md-4 offset-md-4",style:{marginTop:"7%"}},o.a.createElement("div",{className:"alert alert-danger col-md-11",role:"alert",id:"login_fail",style:{display:"none"}},"Usu\xe1rio e senha incorretos.."),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6"},o.a.createElement("img",{ref:n,src:"".concat("","imagem/logo.jpeg"),style:{padding:20,borderRadius:25,width:"200%",height:"100%"},alt:"LOGO BAHM"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-11"},o.a.createElement("input",{type:"text",id:"login",name:"email",className:"form-control",placeholder:"Usu\xe1rio"}),o.a.createElement("input",{id:"senha",type:"password",name:"pass",placeholder:"Senha",className:"form-control",autoComplete:"on",style:{marginTop:"2%"}}),o.a.createElement("button",{style:{backgroundColor:"blue",color:"white",padding:20,borderRadius:25,marginTop:"10%",width:"100%"}},"ENTRAR"))))))},B=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"white",height:window.innerHeight}},o.a.createElement(C.b,{to:"/ListaPontos"},o.a.createElement("button",{style:{backgroundColor:"gray",color:"white",padding:10,fontWeight:"bold"}},"Cadastra Ponto")),o.a.createElement(C.b,{to:"/CadastroCliente"},o.a.createElement("button",{style:{backgroundColor:"gray",color:"white",padding:10,fontWeight:"bold"}},"Cadastra Cliente")),o.a.createElement(C.b,{to:"/CadastroPagina"},o.a.createElement("button",{style:{backgroundColor:"gray",color:"white",padding:10,fontWeight:"bold"}},"Cadastra Pagina")))}}]),n}(a.Component),L=n(25),T=function(e){return fetch("".concat("https://api-bahm-new.herokuapp.com","/CadastroPonto/LoadPontoCadastro"),{method:"get",headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(t){if(void 0!=t){if(200===t.status)return t.json();401===t.status&&e.history.push("/Login")}}))},_=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={pontos:[],icones:[],paginas:[]},e}return Object(g.a)(n,[{key:"envia",value:function(e){var t,n,a=this;(t=e,n=this.props,fetch("".concat("https://api-bahm-new.herokuapp.com","/CadastroPonto/PostPonto"),{method:"post",body:JSON.stringify(t),headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(e){return n.history.push("/ListaPontos"),e.json()}))).then((function(e){T().then((function(e){var t=e.pontos,n=e.icones,o=e.paginas;a.setState({pontos:t,icones:n,paginas:o})}))}))}},{key:"componentDidMount",value:function(){var e=this;T(this.props).then((function(t){if(void 0!=t){t.pontos;var n=t.icones,a=t.paginas;e.setState({icones:n,paginas:a})}}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"white",height:window.innerHeight,margin:"auto"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("form",{id:"formulario",onSubmit:function(t){t.preventDefault();var n,a=new FormData(document.getElementById("formulario")),o={},r=Object(L.a)(a.entries());try{for(r.s();!(n=r.n()).done;){var i=n.value;o[i[0]]=i[1]}}catch(c){r.e(c)}finally{r.f()}e.envia(o)}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("h1",null,"Cadastro Ponto"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-8 form-group "},o.a.createElement("input",{type:"number",id:"IdPonto",placeholder:"IdPonto",hidden:!0}),o.a.createElement("input",{className:"form-control",type:"text",id:"NomePonto",name:"NomePonto",placeholder:"NomePonto"})),o.a.createElement("div",{className:"col-md-2 form-group "},o.a.createElement("input",{className:"form-control",type:"text",id:"LatitudePonto",name:"LatitudePonto",placeholder:"LatitudePonto"})),o.a.createElement("div",{className:"col-md-2 form-group "},o.a.createElement("input",{className:"form-control",type:"text",id:"LongitudePonto",name:"LongitudePonto",placeholder:"LongitudePonto"}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-6"},o.a.createElement("label",{className:"form-label"},"icones"),o.a.createElement("input",{list:"IconeIds",className:"form-control",name:"IconeId",id:"IconeId"}),o.a.createElement("datalist",{id:"IconeIds",hidden:!0,className:"form-control",onChange:function(e){return console.log(e.target.selectedIndex)}},this.state.icones.map((function(e){return o.a.createElement("option",{key:e.idIcone,value:e.idIcone},e.nomeIcone)})))),o.a.createElement("div",{className:"col-4 form-group"},o.a.createElement("label",{className:"form-label"},"paginas"),o.a.createElement("input",{list:"PaginaIds",className:"form-control",name:"PaginaId",id:"PaginaId"}),o.a.createElement("datalist",{id:"PaginaIds",hidden:!0,className:"form-control",onChange:function(e){return console.log(e.target.selectedIndex)}},this.state.paginas.map((function(e){return o.a.createElement("option",{key:e.idPagina,value:e.idPagina},e.nomePagina)})))),o.a.createElement("div",{className:"col-2"},o.a.createElement(C.b,{to:"/CadastroPagina"},o.a.createElement("button",{className:"btn btn-primary",style:{marginTop:"30px"}},"Cadastrar Pagina")))),o.a.createElement("div",{className:"row",style:{marginTop:"30px"}},o.a.createElement("div",{className:"col-12"},o.a.createElement("button",{className:"btn btn-success",type:"submit"},"Salvar")))))))}}]),n}(a.Component),z=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,"xx")}}]),n}(a.Component),M=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(p.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={concessionarias:[],paginas:[],sites:[],contatos:[],cadastra:!1,escolhido:null},e}return Object(g.a)(n,[{key:"RequisitaLoad",value:function(){var e,t=this;(e=this.props,fetch("".concat("https://api-bahm-new.herokuapp.com","/CadastroPagina/LoadPaginaCadastro"),{method:"get",headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(t){if(200===t.status)return t.json();401===t.status&&e.history.push("/Login")}))).then((function(e){if(void 0!=e){var n=e.concessionarias,a=e.paginas,o=e.sites,r=e.contatos;t.setState({concessionarias:n,paginas:a,sites:o,contatos:r})}}))}},{key:"Cadastra",value:function(){var e=this;return this.state.cadastra?o.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),e.state.escolhido){for(var n=[],a=document.getElementsByClassName("sites_"),o=0;o<a.length;o++)n.push({paginaId:document.getElementById("IdPagina").value,siteId:a.item(o).innerHTML});var r={IdPagina:document.getElementById("IdPagina").value,NomePagina:document.getElementById("NomePagina").value,EnderecoPagina:document.getElementById("EnderecoPagina").value,ConcessionariaId:document.getElementById("ConcessionariaId").value,PaginaSites:n};(i=r,fetch("".concat("https://api-bahm-new.herokuapp.com","/CadastroPagina/PutPagina"),{method:"put",body:JSON.stringify(i),headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(e){if(200===e.status)return e.json()}))).then((function(e){return console.log(e)}))}else{(function(e){return fetch("".concat("https://api-bahm-new.herokuapp.com","/CadastroPagina/PostPagina"),{method:"post",body:JSON.stringify(e),headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(e){return e.json()}))})({NomePagina:document.getElementById("NomePagina").value,EnderecoPagina:document.getElementById("EnderecoPagina").value,ConcessionariaId:document.getElementById("ConcessionariaId").value}).then((function(t){console.log(t),document.getElementById("IdPagina").value="",document.getElementById("NomePagina").value="",document.getElementById("EnderecoPagina").value="",document.getElementById("ConcessionariaId").value="",e.RequisitaLoad()}))}var i}},o.a.createElement("input",{type:"text",id:"IdPagina",placeholder:"IdPagina",hidden:!0}),o.a.createElement("input",{type:"text",id:"NomePagina",placeholder:"NomePagina"}),o.a.createElement("input",{type:"text",id:"EnderecoPagina",placeholder:"EnderecoPagina"}),o.a.createElement("select",{id:"ConcessionariaId",onChange:function(e){return console.log(e.target.selectedIndex)}},this.state.concessionarias.map((function(e){return o.a.createElement("option",{key:e.idConcessionaria,value:e.idConcessionaria},e.idConcessionaria," -- ",e.nomeConcessionaria)}))),o.a.createElement("div",{id:"lists"}),o.a.createElement("button",{type:"submit"},"ENVIO"),o.a.createElement("button",{onClick:function(){return e.setState({cadastra:!1,escolhido:null})}},"CANCELO")):o.a.createElement("div",null,o.a.createElement("button",{onClick:function(){return e.setState({cadastra:!0})}},"teste"),this.state.paginas.map((function(t){return o.a.createElement("div",{key:t.idPagina},o.a.createElement("span",null,t.idPagina," -- ",t.nomePagina),o.a.createElement("button",{onClick:function(){var n;e.setState({cadastra:!0,escolhido:t.idPagina}),(n=t.idPagina,fetch("".concat("https://api-bahm-new.herokuapp.com","/CadastroPagina/GetPagina?id=").concat(n),{method:"get",headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(e){if(200===e.status)return e.json()}))).then((function(e){console.log(e),document.getElementById("IdPagina").value=e.idPagina,document.getElementById("NomePagina").value=e.nomePagina,document.getElementById("EnderecoPagina").value=e.enderecoPagina,document.getElementById("ConcessionariaId").value=e.concessionariaId,e.paginaSites.forEach((function(e){var t=document.createElement("span");t.innerHTML=e.siteId,t.className="sites_";var n=document.createElement("br");document.getElementById("lists").appendChild(t),document.getElementById("lists").appendChild(n)}))}))}},"EDITAR"),o.a.createElement("button",{onClick:function(){return(e=t.idPagina,fetch("".concat("https://api-bahm-new.herokuapp.com","/CadastroPagina/DeletePagina?id=").concat(e),{method:"delete",body:JSON.stringify(e),headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(e){if(200===e.status)return e.json()}))).then((function(e){return console.log(e)}));var e}},"Deletar"),o.a.createElement("br",null))})))}},{key:"componentDidMount",value:function(){this.RequisitaLoad()}},{key:"render",value:function(){return o.a.createElement("div",{style:{backgroundColor:"white"}},this.Cadastra())}}]),n}(a.Component),R=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={pontos:[]},a}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e,t=this;(e=this.props,fetch("".concat("https://api-bahm-new.herokuapp.com","/CadastroPonto/LoadPontoCadastro"),{method:"get",headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+sessionStorage.getItem("loginStore")})}).then((function(t){if(200===t.status)return t.json();401===t.status&&e.history.push("/Login")}))).then((function(e){if(void 0!=e){var n=e.pontos,a=e.icones;e.paginas;t.setState({pontos:n,icones:a})}}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{height:"100%",backgroundColor:"white"}},o.a.createElement(C.b,{to:"/CadastroPonto"},o.a.createElement("button",{className:"btn btn-primary",style:{marginTop:"30px"}},"Cadastrar Ponto")),o.a.createElement("table",{class:"table"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{scope:"col"},"Nome Ponto"),o.a.createElement("th",{scope:"col"},"Latitude"),o.a.createElement("th",{scope:"col"},"Longitude"),o.a.createElement("th",{scope:"col"},"Icone"))),o.a.createElement("tbody",null,this.state.pontos.map((function(t){return o.a.createElement("tr",{key:t.idPonto,onClick:function(n){var a=e.state.pontos.filter((function(e){return e.idPonto===t.idPonto}));console.log(a[0]),e.props.history.push("/?lat=".concat(t.latitudePonto,"&long=").concat(t.longitudePonto,"&zooml=15"))}},o.a.createElement("td",null,t.nomePonto),o.a.createElement("td",null,t.latitudePonto),o.a.createElement("td",null,t.longitudePonto),o.a.createElement("td",null,o.a.createElement("img",{src:-1===e.state.icones.filter((function(e){return e.idIcone===t.iconeId}))[0].linkIcone.indexOf("http")?"".concat("https://imagens-bahm2.herokuapp.com/imagens/").concat(e.state.icones.filter((function(e){return e.idIcone===t.iconeId}))[0].linkIcone):e.state.icones.filter((function(e){return e.idIcone===t.iconeId}))[0].linkIcone})))})))))}}]),n}(a.Component),H=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={},a}return Object(g.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{onClick:function(){return console.log(e.props.match.params.id)}},"teste")}}]),n}(a.Component);document.getElementById("loader").style.display="none";var D=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(),s=Object(c.a)(i,2),l=s[0],u=s[1],d=Object(a.useState)(),m=Object(c.a)(d,2),p=m[0],g=m[1];function h(e){r(e)}function f(){var e=Object(S.e)();return o.a.createElement(o.a.Fragment,null,function(e){if(!n)return o.a.createElement(j,{trocaTela:h,perfil_usuario:p,cria_ponto:l,history:e})}(e),function(){if(n)return o.a.createElement(v,{id_pagina:n,trocaTela:h})}())}function E(e){u(e.criaPonto),g(e.perfilUsuario)}return o.a.createElement(C.a,{basename:"/app",className:"container"},o.a.createElement(S.a,{exact:!0,render:function(e){return o.a.createElement(f,Object.assign({},e,{cria_ponto:l}))},path:"/"}),o.a.createElement(S.a,{exact:!0,render:function(e){return o.a.createElement(x,Object.assign({},e,{perfil:E}))},path:"/Login"}),o.a.createElement(S.a,{exact:!0,render:function(e){return o.a.createElement(B,Object.assign({},e,{perfil_usuario:p,cria_ponto:l}))},path:"/Admin"}),o.a.createElement(S.a,{exact:!0,render:function(e){return o.a.createElement(_,e)},path:"/CadastroPonto"}),o.a.createElement(S.a,{exact:!0,render:function(e){return o.a.createElement(z,e)},path:"/CadastroCliente"}),o.a.createElement(S.a,{exact:!0,render:function(e){return o.a.createElement(M,e)},path:"/CadastroPagina"}),o.a.createElement(S.a,{exact:!0,render:function(e){return o.a.createElement(R,e)},path:"/ListaPontos"}),o.a.createElement(S.a,{exact:!0,render:function(e){return o.a.createElement(H,e)},path:"/Tela/:id"}))};i.a.render(o.a.createElement(D,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.d3ccf766.chunk.js.map