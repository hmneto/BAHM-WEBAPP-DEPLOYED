(this.webpackJsonpapp2=this.webpackJsonpapp2||[]).push([[0],{24:function(e,t,n){e.exports=n(41)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a,o=n(0),i=n.n(o),r=n(19),l=n.n(r),c=n(23),s=n(10),u=n.n(s),m=n(12),d=n(9),p=n(8),g=n(3),h=n(4),f=!1;a="".concat("https://api-bahm-new.herokuapp.com");var y=function(){var e=Object(m.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(a,"/Authenticate"),{method:"POST",headers:new Headers({"content-type":"application/json"}),body:n}).then((function(e){if(200===e.status)return e.json();401===e.status&&(document.getElementById("login_fail").style.display="block")})).then((function(e){if(e)return f=e.user,t.push("/"),e.user}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.refs.canvas,n=t.getContext("2d"),a=this.refs.image;a.onload=function(){t.width=document.getElementById("imagem").width,t.height=document.getElementById("imagem").height,n.drawImage(a,0,0),n.font="20px Calibri",n.fillStyle="white";var o=600;n.fillText(e.props.dados.pagina.nome_pagina,30,o),o+=25,n.fillText(e.props.dados.pagina.endereco,30,o),o+=25,e.props.dados.contatos.forEach((function(e){n.fillText("".concat(e.nome_contato?e.nome_contato:""," ").concat(e.telefone?e.telefone:""," ").concat(e.email?e.email:""),30,o),o+=25})),e.props.dados.concessionaria_pagina&&n.fillText("n\xe3o tem"===e.props.dados.concessionaria_pagina.info?"":e.props.dados.concessionaria_pagina.info,30,o)}}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("canvas",{id:"tela",ref:"canvas"}),i.a.createElement("img",{alt:"img",id:"imagem",ref:"image",src:"".concat("","imagem/BAHMCAPA.jpeg"),style:{display:"none"}}))}}]),n}(o.Component),b=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(g.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return i.a.createElement("iframe",{src:this.props.dados,title:"iframe"})}}]),n}(o.Component),v=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={},e}return Object(h.a)(n,[{key:"render",value:function(){return i.a.createElement("img",{frameBorder:"0",marginHeight:"0",marginWidth:"0",src:this.props.dados,alt:"img"})}}]),n}(o.Component),I=(n(30),n(31),function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).topFunction=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("myBtn");window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?e.style.display="block":e.style.display="none"}}},{key:"render",value:function(){return i.a.createElement("button",{onClick:this.topFunction,id:"myBtn",title:"Go to top"},"Top")}}]),n}(o.Component)),w=function(){function e(t){Object(g.a)(this,e),this.pagina=null,this.concessionaria_pagina=null,this.sites=null,this.contatos=null,this.obj=null;var n=t.dados,a=n.nome_pagina,o=n.endereco,i=n.info,r=n.sites,l=n.contatos;this.contatos=l,this.pagina={nome_pagina:a,endereco:o,info:i},this.concessionaria_pagina={info:i};for(var c={},s=0;s<r.length;s++)c[r[s].tipo]||(c[r[s].tipo]=[]),c[r[s].tipo].push(r[s].link);this.obj=c}return Object(h.a)(e,[{key:"get_infos",value:function(){return{pagina:this.pagina,concessionaria_pagina:this.concessionaria_pagina,sites:this.sites,contatos:this.contatos,obj:this.obj}}}]),e}(),k=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(g.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={pagina:!1,concessionaria_pagina:0,contatos:[],STREET:[],foto:[],WIKIMAPIA_SAT:[],WIKIMAPIA_FRIO:[],pm:[],site:[],abcr:[],concessionaria:[],FOTO_MAPA:[],WIKIPEDIA:[],LEI:[]},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=Object(m.a)(u.a.mark((function e(){var t,n,o,i,r,l,c,s,m,d,p,g,h,y,E,b,v,I,k,M,x;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("Pagina").style.display="none",document.getElementById("loader").style.display="block",document.body.style.height="0px",t=this.props.id_pagina,e.next=6,t;case 6:return n=e.sent,console.log(n),e.next=10,u=n,fetch("".concat(a,"/GetPaginas"),{method:"post",body:u,headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+f})}).then((function(e){return e.json()}));case 10:if(o=e.sent,i=o.dados.nome_pagina,e.prev=12,i){e.next=15;break}return e.abrupt("return");case 15:r=new w(o),l=r.get_infos(),c=l.pagina,s=l.concessionaria_pagina,m=l.contatos,d=l.obj,document.title="BAHM - ".concat(c.nome_pagina),void 0!==m&&this.setState({contatos:m}),p=d.STREET,g=d.LEI,h=d.FOTO_MAPA,y=d.FOTO,E=d.WIKIMAPIA_FRIO,b=d.WIKIMAPIA_SAT,v=d.WIKIPEDIA,I=d.PM,k=d.SITE,M=d.ABCR,x=d.CONCESSIONARIA,this.setState({pagina:c,concessionaria_pagina:s,STREET:p||[],LEI:g||[],FOTO_MAPA:h||[],WIKIMAPIA_FRIO:E||[],WIKIMAPIA_SAT:b||[],WIKIPEDIA:v||[],concessionaria:x||[],pm:I||[],site:k||[],abcr:M||[],foto:y||[]}),document.getElementById("loader").style.display="none",document.body.style.height="100%",document.getElementById("Pagina").style.display="block",e.next=29;break;case 26:e.prev=26,e.t0=e.catch(12),alert("Pagina n\xe3o encontrada");case 29:case"end":return e.stop()}var u}),e,this,[[12,26]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"Pagina",style:{display:"block"}},i.a.createElement("button",{onClick:function(){e.setState({pagina:!1,concessionaria_pagina:0,contatos:[],STREET:[],foto:[],WIKIMAPIA_SAT:[],WIKIMAPIA_FRIO:[],pm:[],site:[],abcr:[],concessionaria:[],FOTO_MAPA:[],WIKIPEDIA:[],LEI:[]}),e.props.trocaTela(void 0)},style:{position:"absolute",marginTop:40,marginLeft:100,backgroundColor:"white",padding:18,fontWeight:"bold",borderRadius:10}},i.a.createElement("svg",{style:{marginRight:10},xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor",className:"bi bi-arrow-left-circle-fill",viewBox:"0 0 16 16"},i.a.createElement("path",{d:"M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zm3.5 7.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"})),"VOLTAR"),i.a.createElement("div",{id:"principal"},this.state.pagina&&i.a.createElement(E,{dados:this.state}),[this.state.STREET,this.state.foto,this.state.WIKIMAPIA_SAT,this.state.WIKIMAPIA_FRIO,this.state.pm,this.state.site,this.state.abcr,this.state.concessionaria,this.state.FOTO_MAPA,this.state.LEI,this.state.WIKIPEDIA].map((function(e,t){return e.map((function(e){return 1===t&&-1===e.indexOf("http")||8===t&&-1===e.indexOf("http")?i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(v,{key:e,dados:"".concat("https://imagens-bahm2.herokuapp.com/imagens/").concat(e)})):8===t?i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(v,{key:e,dados:e})):i.a.createElement("div",null,i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement(b,{key:e,dados:e}))}))}))),i.a.createElement(I,null)))}}]),n}(o.Component),M=n(20),x=n.n(M),O=n(11),A=n(1),_=(n(32),n(33),function(){function e(t,n,a,o){Object(g.a)(this,e),this.google=t;var i=document.getElementById("map"),r=new this.google.LatLng(parseFloat(n),parseFloat(a)),l=this.google.MapTypeId.HYBRID;this.map=new this.google.Map(i,{center:r,zoom:o,mapTypeId:l})}return Object(h.a)(e,[{key:"getMap",value:function(){return this.map}},{key:"latLong",value:function(e,t){return new this.google.LatLng(parseFloat(e),parseFloat(t))}},{key:"centerMap",value:function(e,t){var n,a,o,i,r=!1;return this.map.getZoom()>=e&&(n=Math.round(this.map.getCenter().lat()-t),a=Math.ceil(this.map.getCenter().lat()+t),o=Math.round(this.map.getCenter().lng()-t),i=Math.ceil(this.map.getCenter().lng()+t),(r=this._latMax!==n||this._latMin!==a||this._longMax!==o||this._longMin!==i)&&(this._latMax=n,this._latMin=a,this._longMax=o,this._longMin=i)),r?{latMin:this._latMin,latMax:this._latMax,longMin:this._longMin,longMax:this._longMax}:null}},{key:"getPontos",value:function(e,t){return function(e,t){return fetch("".concat(a,"/Ponto/GetPontos"),{method:"post",body:JSON.stringify(e),headers:new Headers({"content-type":"application/json",Authorization:"Bearer "+f})}).then((function(e){if(200===e.status)return e.json();401===e.status&&t.push("/Login")}))}({latMin:e.latMin,latMax:e.latMax,longMin:e.longMin,longMax:e.longMax},t)}},{key:"criarIcones",value:function(e,t){var n=this;try{e.forEach((function(e){var a,o=e.latitude,i=e.longitude,r=e.link,l=new n.google.LatLng(parseFloat(o),parseFloat(i)),c=n.map;a=-1===r.indexOf("http")?"".concat("https://imagens-bahm2.herokuapp.com/imagens/").concat(r):r;var s=new n.google.Marker({map:c,position:l,icon:a}),u=document.createElement("div"),m=document.createElement("text");m.innerHTML=e.nome_ponto,u.appendChild(m),"KM"!==e.tipo_icone&&(m.style.cursor="pointer"),m.addEventListener("click",(function(){"KM"!==e.tipo_icone&&"false"!==e.pagina&&t(e.pagina)}));var d=new n.google.InfoWindow;s.addListener("click",(function(){d.setContent(u),d.open(this.mapa,s)}))}))}catch(a){console.log("formato array incorreto")}}}]),e}()),j=function(){function e(t){Object(g.a)(this,e),this.lista=null;var n={};t.forEach((function(e){n[e]=function(e){if(e=new RegExp("[?&]"+encodeURIComponent(e)+"=([^&]*)").exec(window.location.search))return decodeURIComponent(e[1])}(e)})),this.lista=n}return Object(h.a)(e,[{key:"get_list",value:function(){return this.lista}}]),e}(),T=function(){function e(){Object(g.a)(this,e)}return Object(h.a)(e,[{key:"carregaMapa",value:function(e,t){return function(n){var a,o,i=new j(["lat","long","zooml"]).get_list(),r=function(e,t,n){var a,o,i;return n?(a=e,o=t,i=Number(n),window.location.search=""):(a=localStorage.getItem("lat"),o=localStorage.getItem("long"),i=Number(localStorage.getItem("zoom"))),{latitude:a,longitude:o,zoom:i}}(i.lat,i.long,i.zooml),l=r.latitude,c=r.longitude,s=r.zoom;function d(){return p.apply(this,arguments)}function p(){return(p=Object(m.a)(u.a.mark((function n(){var i,r,l;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(localStorage.setItem("lat",o.getCenter().lat()),localStorage.setItem("long",o.getCenter().lng()),localStorage.setItem("zoom",o.getZoom()),document.getElementById("lat")&&(document.getElementById("lat").value=o.getCenter().lat().toFixed(6)),document.getElementById("long")&&(document.getElementById("long").value=o.getCenter().lng().toFixed(6)),document.getElementById("zoom")&&(document.getElementById("zoom").value=o.getZoom()),i="".concat(window.location,"?lat=").concat(o.getCenter().lat(),"&long=").concat(o.getCenter().lng(),"&zooml=").concat(o.getZoom()),document.getElementById("link")&&(document.getElementById("link").value=i),r=a.centerMap(8,2)){n.next=11;break}return n.abrupt("return");case 11:return n.next=13,a.getPontos(r,t);case 13:if(l=n.sent){n.next=16;break}return n.abrupt("return");case 16:a.criarIcones(l.pontos,e);case 17:case"end":return n.stop()}}),n)})))).apply(this,arguments)}a=new _(n,l,c,s),o=a.getMap(),d(),o.addListener("zoom_changed",d),o.addListener("drag",d),document.getElementById("control")&&document.getElementById("control").addEventListener("click",(function(){var e=a.latLong(document.getElementById("lat").value,document.getElementById("long").value);o.panTo(e),o.setZoom(Number(document.getElementById("zoom").value)),d()}))}}}]),e}();function S(){localStorage.getItem("lat")&&localStorage.getItem("long")&&localStorage.getItem("zoom")||(localStorage.setItem("lat","-21"),localStorage.setItem("long","-50"),localStorage.setItem("zoom","9"))}function z(){return(z=Object(m.a)(u.a.mark((function e(t,n){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:S(),a=new T,x()({key:"AIzaSyBZkRztzytJboga-ppS__Lb8YbettZs8Rk"}).then(a.carregaMapa(t,n));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return window.innerHeight}var B=function(e){var t=e.trocaTela;document.title="BAHM - MAPA";var n=Object(A.e)();return window.addEventListener("resize",(function(){var e=C(),t=document.getElementById("map");t&&(t.style.height=e+"px")})),function(e,t){z.apply(this,arguments)}(t,n),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"myNav",className:"overlay",style:{zIndex:12}},i.a.createElement("a",{href:"javascript:void(0)",className:"closebtn",onClick:function(){document.getElementById("myNav").style.width="0%"}},"\xd7"),i.a.createElement("div",{className:"overlay-content"},i.a.createElement(O.b,{to:"/teste2",style:{lineHeight:0}},i.a.createElement("button",{style:{backgroundColor:"gray",color:"white",padding:10,fontWeight:"bold"}},"Teste2")))),i.a.createElement("input",{maxlength:"10",size:"8",className:"item",type:"text",id:"lat",placeholder:"latitude",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:130,marginLeft:10,backgroundColor:"white",padding:2}}),i.a.createElement("input",{maxlength:"10",size:"8",className:"item",type:"text",id:"long",placeholder:"longitude",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:180,marginLeft:10,backgroundColor:"white",padding:2}}),i.a.createElement("input",{maxlength:"2",size:"2",className:"item",type:"text",id:"zoom",placeholder:"zoom",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:230,marginLeft:10,backgroundColor:"white",padding:2}}),i.a.createElement("textarea",{className:"item",type:"text",id:"link",placeholder:"link",style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:280,marginLeft:10,backgroundColor:"white",padding:2,display:"none"}}),i.a.createElement("button",{style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:280,marginLeft:10,backgroundColor:"white",padding:2},className:"item",id:"control"},"Ir para posi\xe7\xe3o"),i.a.createElement("button",{class:"btn btn-primary copy",onClick:function(){var e=document.querySelector("button.copy"),t=document.querySelector("textarea");e.addEventListener("click",(function(e){e.preventDefault(),navigator.clipboard.writeText(t.value),alert(t.value)}))},style:{fontSize:20,cursor:"pointer",position:"absolute",zIndex:10,marginTop:330,marginLeft:10,backgroundColor:"white",padding:2}},"Copia do link"),i.a.createElement("div",{id:"map",style:{height:C()}}))};o.Component,n(39),n(40);var N=function(e){var t=Object(A.e)(),n=Object(o.useRef)(null);return i.a.createElement("div",null,i.a.createElement("form",{className:"limiter",onSubmit:function(e){e.preventDefault(),function(e){var t=JSON.stringify({login:document.getElementById("login").value,senha:document.getElementById("senha").value});y(e,t)}(t)}},i.a.createElement("div",{className:"container-login100"},i.a.createElement("div",{className:"wrap-login100"},i.a.createElement("div",{className:"login100-form validate-form"},i.a.createElement("div",{class:"alert alert-danger",role:"alert",id:"login_fail",style:{display:"none"}},"Usu\xe1rio e senha incorretos."),i.a.createElement("span",{className:"login100-form-title p-b-26"},i.a.createElement("img",{ref:n,src:"".concat("","imagem/logo.jpeg"),style:{padding:20,borderRadius:25}})),i.a.createElement("span",{className:"login100-form-title p-b-48"},i.a.createElement("i",{className:"zmdi zmdi-font"})),i.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Valid email is: a@b.c"},i.a.createElement("input",{className:"input100",type:"text",id:"login",name:"email",placeholder:"Usu\xe1rio"})),i.a.createElement("div",{className:"wrap-input100 validate-input","data-validate":"Enter password"},i.a.createElement("span",{className:"btn-show-pass"},i.a.createElement("i",{className:"zmdi zmdi-eye"})),i.a.createElement("input",{className:"input100",id:"senha",type:"password",name:"pass",placeholder:"Senha"})),i.a.createElement("div",{className:"container-login100-form-btn"},i.a.createElement("div",{className:"wrap-login100-form-btn"},i.a.createElement("div",{className:"login100-form-bgbtn"}),i.a.createElement("button",{className:"login100-form-btn",style:{backgroundColor:"blue"}},"ENTRAR"))))))))};document.getElementById("loader").style.display="none";var L=function(){var e=Object(o.useState)(),t=Object(c.a)(e,2),n=t[0],a=t[1];function r(e){a(e)}function l(){return i.a.createElement(i.a.Fragment,null,function(){if(!n)return i.a.createElement(B,{trocaTela:r})}(),function(){if(n)return i.a.createElement(k,{id_pagina:n,trocaTela:r})}())}return i.a.createElement(O.a,{basename:"/app10"},i.a.createElement(A.a,{exact:!0,render:function(e){return i.a.createElement(l,e)},path:"/"}),i.a.createElement(A.a,{exact:!0,render:function(e){return i.a.createElement(N,e)},path:"/Login"}))};l.a.render(i.a.createElement(L,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.be257b27.chunk.js.map